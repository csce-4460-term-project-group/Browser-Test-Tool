<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" style="height:100%;">

<head>
    <meta charset="utf-8" />
    <title>Browser Test Tool</title>
    <link href="/Browser-Test-Tool/styles/all.css" rel="stylesheet" type="text/css" />
    <link href="/Browser-Test-Tool/styles/tab.css" rel="stylesheet" type="text/css" />
    <link href="/Browser-Test-Tool/styles/test-results.css" rel="stylesheet" type="text/css" />
</head>

<body style="height:100%;">
    <h1>Browser Test Tool</h1>
    <button onclick="runTests(this)">Run Tests</button>
    <div>
        <button class="tab-html" onclick="changeTab1()">HTML</button>
        <button class="tab-css" onclick="changeTab2()">CSS</button>
    </div>
    <div class="tab-html-content" id="tab-html-content">
    </div>
    <div class="tab-css-content" id="tab-css-content">
    </div>
    <script src="/Browser-Test-Tool/tests/TestPrototype.js"></script>
    <script src="/Browser-Test-Tool/tests/TestHTML5Elements.js"></script>
    <script>
        function changeTab1() {
            document.getElementById("tab-html-content").style.display = "block";
            document.getElementById("tab-css-content").style.display = "none";
        }
        function changeTab2() {
            document.getElementById("tab-html-content").style.display = "none";
            document.getElementById("tab-css-content").style.display = "block";
        }
        function runTests(buttonClicked) {
            buttonClicked.disabled = true;
            var tests = [];
            tests.push(TestHTML5Elements());
            for (var i = 0; i < tests.length; i++) {
                var testsPassed = 0;
                for (var j = 0; j < tests[i].results.length; j++)
                    if (tests[i].results[j])
                        testsPassed++;
                var div1 = document.createElement("div");
                div1.className = "test-results";
                var button = document.createElement("button");
                var title = document.createElement("span");
                title.style.cssFloat = "left";
                title.innerHTML = "&#x23F5;" + tests[i].title;
                var score = document.createElement("span");
                score.style.cssFloat = "right";
                score.textContent = testsPassed + "/" + tests[i].results.length;
                button.appendChild(title);
                button.appendChild(score);
                button.onclick = expandOrCollapseTestResults(title, tests[i].title);
                div1.appendChild(button);
                document.getElementById("tab-html-content").appendChild(div1);
            }
        }
        function expandOrCollapseTestResults(span, title) {
            var triangle = span.textContent;
            if (triangle.indexOf("&#x23F5;") == 0)
                span.innerHTML = "&#x23F7;" + title;
            else
                span.innerHTML = "&#x23F5;" + title;
        }
    </script>
</body>

</html>